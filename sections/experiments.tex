\section{Experiments}

{
%% \setlength{\parindent}{4em}
\color{gray} 

%% \indent 
\begin{itemize}

    % AMO beamline of the Linac Coherent Light Source (LCLS) at the SLAC
    % National Accelerator Laboratory.
    \item Datasets.

    \item Data preprocessing (image, panel, mosaic)
    % prove order doesn't matter in pattern recognition, as a prerequisite for
    % mosaic mode.

    \item Data augmentation (for training, standardize, crop, random).

    \item Human baseline performance (game of hit)

    \item Accuracy-wise, our model has outperformed previous models.  

    \item Less number of images to train the model (need to provide more results
    to justify).  

    \item Limitations.

\end{itemize}

}


\subsection{Datasets}

%% Why would I need those datasets?  
%% No standard datasets.  Manual labelling.  
%% Okay, simulated datasets are valuable in exploring the model generalizability. .

% ISSUES: The amo06516 might not be correct.  
To our knowledge, there's no existing large scale database of annotated X-ray
single particle images.  Thankfully, we can access and manually label raw
experimental data, specifically amo06516 \cite{liDiffractionDataAerosolized2020},
collected in LCLS through the Coherent X-ray Imaging Data Bank (CXIDB)
\cite{maiaCoherentXrayImaging2012}.  Meanwhile, it's challenging to
automatically scale up annotations for experimental datasets.  We then resort to
skopi \cite{peckSkopiSimulationPackage2021}, a GPU-based diffractive image
simulator for noncrystalline biomolecules, for concurrently synthesizing
high-resolution scatter patterns and accurate labels in an automated manner at
scale.  Lastly, we aim at delivering a SPI classifer capable of real-time
classification during data collection.  One major constraint in real-time
scenario is that we might not have a complete view of a scattering pattern
assembled from pixel areas of individual detector panels.  We thus consider
three different modes in dataset curation: (1) Image mode, where information
from all detector panels are consolidated according to their respective physical
locations; (2) Mosiac mode, where information from serveral detector panels are
combined without acknowleding any geometric relations among panels;  (3) Panel
mode, meaning that only pixel contents in a single panel during a exposure is
visiable to our model.  

%% ImageNet
%% \cite{dengImageNetLargescaleHierarchical2009} that provides large scale
%% annotated images, .  

\subsubsection{Experimental datasets}

%% 0                : 83
%% 1                : 296
%% 2                : 177
%% 9                : 52

We chose scattering patterns from five experimental runs (90, 91, 94, 96, 102)
in the raw dataset amo06516 and categorized them into four classes: single hit,
multi hit, unintended hit and background.  It contains 296 single-hit examples,
177 double-hit examples, 83 unitended-hit example and 52 background examples.
There is a variety of variations found in the experimental dataset.  One
prominent reason is that some examples have wrong labels. Even when images are
all correctly labeled, it might still exhibit considerable variations induced by
single particle orientation, X-ray beam properties, detector configuration and
so on.  For example, a user might change detector distance from run to run, and
the scattering pattern could appear to be larger or smaller in response to the
change. Moreover, unexpected causes of variations, such as the presence of dead
pixel areas, have to be addressed on an individual basis.  



\subsubsection{Simulated datasets}


\subsubsection{Image mode, mosaic mode and panel mode}


\subsubsection{Data augmentation}
